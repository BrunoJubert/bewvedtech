document.querySelectorAll('a[href^="#"]').forEach((e) => {
  e.addEventListener("click", function (e) {
    e.preventDefault();
    let t = document.querySelector(this.getAttribute("href"));
    t && t.scrollIntoView({ behavior: "smooth" });
  });
});
const packs = document.querySelectorAll(".pack"),
  observer = new IntersectionObserver(
    (e) => {
      e.forEach((e) => {
        e.isIntersecting && e.target.classList.add("visible");
      });
    },
    { threshold: 0.1 }
  );
packs.forEach((e) => observer.observe(e)),
  (document.getElementById("year").textContent = new Date().getFullYear());
const toggleButtons = document.querySelectorAll(".toggle-details");
toggleButtons.forEach((e) => {
  e.addEventListener("click", () => {
    let t = e.nextElementSibling;
    if (!t) return;
    let s = t.classList.toggle("hidden");
    t.classList.contains("transitioning") ||
      (t.classList.add("transitioning"),
      (t.style.maxHeight = s ? "0px" : t.scrollHeight + "px"),
      setTimeout(() => {
        s && (t.style.maxHeight = null), t.classList.remove("transitioning");
      }, 300)),
      (e.textContent = s ? "Voir +" : "Voir -");
  });
});
const titles = [
    "Cr\xe9ons votre site sur-mesure",
    "Sites modernes et adapt\xe9s",
    "Optimis\xe9s pour votre activit\xe9",
    "Votre exp\xe9rience d\xe9marre ici",
  ],
  animatedText = document.querySelector(".animated-text");
let index = 0;
function showTitle() {
  animatedText.classList.remove("active"),
    setTimeout(() => {
      (animatedText.textContent = titles[index]),
        animatedText.offsetWidth,
        animatedText.classList.add("active"),
        (index = (index + 1) % titles.length);
    }, 500);
}
(animatedText.textContent = titles[0]),
  animatedText.classList.add("active"),
  setInterval(showTitle, 3e3),
  window.addEventListener("scroll", () => {
    let e = window.scrollY,
      t = document.querySelector(".hero-bg");
    t &&
      (t.style.transform = `scale(${1 + 8e-5 * e}) translateY(${0.2 * e}px)`);
  }),
  document.getElementById("myForm").addEventListener("submit", function (e) {
    e.preventDefault();
    var t = this,
      s = document.getElementById("submitBtn");
    (s.disabled = !0),
      (s.innerHTML = '<i class="fas fa-paper-plane"></i> Envoi en cours...'),
      (s.style.backgroundColor = ""),
      fetch(t.action, {
        method: "POST",
        body: new FormData(t),
        headers: { Accept: "application/json" },
      })
        .then((e) => {
          if (e.ok)
            (s.innerHTML = '<i class="fas fa-check"></i> Envoy\xe9'),
              (s.style.backgroundColor = "#4CAF50"),
              t.reset(),
              setTimeout(function () {
                (s.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer'),
                  (s.style.backgroundColor = ""),
                  (s.disabled = !1);
              }, 2e3);
          else throw Error("Erreur lors de lâ€™envoi");
        })
        .catch((e) => {
          (s.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer'),
            (s.disabled = !1);
        });
  });
